{"componentChunkName":"component---node-modules-gatsby-theme-kb-src-templates-topic-js","path":"/web/migrating-postgres","result":{"data":{"file":{"childMdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Migrating a db from prod/staging to localhost\"), mdx(\"p\", null, \"I use postgres pretty much everywhere and this setup has followed me across many projects and languages, it's a quick script for cloning the db to a local copy. Mostly just a wrapper around pg_dump and psql.\"), mdx(\"pre\", {\n    \"className\": \"shiki github-light\",\n    \"style\": {\n      \"backgroundColor\": \"#fff\",\n      \"color\": \"#24292e\"\n    }\n  }, mdx(\"div\", {\n    parentName: \"pre\",\n    \"className\": \"language-id\"\n  }, \"js\"), mdx(\"div\", {\n    parentName: \"pre\",\n    \"className\": \"code-container\"\n  }, mdx(\"code\", {\n    parentName: \"div\"\n  }, mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"// @strict: false\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"/// <\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#22863A\"\n    }\n  }, \"reference\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"types\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"node\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \" /> \")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"// ---cut---\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"// @ts-check\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"/* You need an .env with:\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"# DATABASE_URL=\\\"postgres://abc:def@prod.com/removeDBName\\\"\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"STAGING_DATABASE_URL=\\\"postgres://abc:def@prod.com/removeDBName\\\"\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"LOCAL_DATABASE_URL='postgres://postgres:postgres@localhost:5432/localDBName'\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6A737D\"\n    }\n  }, \"*/\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"dotenv\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"dotenv\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"dotenv.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"config\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"()\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" { \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"execSync\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" } \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"child_process\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" { \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"existsSync\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" } \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"fs\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"tmpFile\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"/tmp/staging.sql\\\"\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"prefixes\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" [\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"/Applications/Postgres.app/Contents/Versions/latest/bin\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \", \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"/usr/bin\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"]\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"prefix\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" prefixes.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"find\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"((\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#E36209\"\n    }\n  }, \"f\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \") \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=>\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"existsSync\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(f \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"+\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"/psql\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"))\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"if\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" (\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"!\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"prefix) \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"throw\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"new\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"Error\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"Could not find psql, check the list of prefixes and add it, find it via: 'which psql' \\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"dbComponents\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" process.env.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"LOCAL_DATABASE_URL\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \".\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"split\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"/\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"localName\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" dbComponents.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"pop\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"()\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"const\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"localURL\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" dbComponents.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"join\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"/\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"console.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"`Dumping prod URL to ${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"tmpFile\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}`\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"execSync\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"`${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"prefix\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}/pg_dump ${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"process\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \".\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"env\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \".\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#005CC5\"\n    }\n  }, \"STAGING_DATABASE_URL\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"} -f ${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"tmpFile\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}`\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"try\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" {\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"  \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"execSync\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"`${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"prefix\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}/psql postgres://localhost -c 'DROP DATABASE \\\"${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"localName\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}\\\"' `\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"} \"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#D73A49\"\n    }\n  }, \"catch\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \" (_) {\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"  console.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"\\\"First time run, not deleting old db\\\"\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"}\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"console.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"`Creating DB ${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"localName\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}`\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"execSync\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"`${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"prefix\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}/psql ${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"localURL\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"} -c 'CREATE DATABASE \\\"${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"localName\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}\\\"'`\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"console.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"`Piping in new DB`\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"execSync\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"`${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"prefix\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}/psql ${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"localURL\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}/${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"localName\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"} -f ${\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"tmpFile\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"}`\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"console.\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#6F42C1\"\n    }\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#032F62\"\n    }\n  }, \"`Done`\"), mdx(\"span\", {\n    parentName: \"div\",\n    \"style\": {\n      \"color\": \"#24292E\"\n    }\n  }, \")\")), mdx(\"div\", {\n    parentName: \"code\",\n    \"className\": \"line\"\n  })))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"","private":false},"outboundReferences":[],"inboundReferences":[]},"fields":{"slug":"/web/migrating-postgres","title":"Migrating a db from prod/staging to localhost"}}},"pageContext":{"id":"ed819c6b-8759-5a69-aeab-d30e9ccd23b5","refWordMdxSlugDict":{}}},"staticQueryHashes":["2221750479","2380733210","2768355698","63159454","847517413"]}